<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #f8f8f2;
  background-color: #272822;
}
.highlight .err {
  color: #272822;
  background-color: #f92672;
}
.highlight .c, .highlight .cd, .highlight .cm, .highlight .c1, .highlight .cs {
  color: #75715e;
}
.highlight .cp {
  color: #f4bf75;
}
.highlight .nt {
  color: #f4bf75;
}
.highlight .o, .highlight .ow {
  color: #f8f8f2;
}
.highlight .p, .highlight .pi {
  color: #f8f8f2;
}
.highlight .gi {
  color: #a6e22e;
}
.highlight .gd {
  color: #f92672;
}
.highlight .gh {
  color: #66d9ef;
  background-color: #272822;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #ae81ff;
}
.highlight .kc {
  color: #fd971f;
}
.highlight .kt {
  color: #fd971f;
}
.highlight .kd {
  color: #fd971f;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #a6e22e;
}
.highlight .sr {
  color: #a1efe4;
}
.highlight .si {
  color: #cc6633;
}
.highlight .se {
  color: #cc6633;
}
.highlight .nn {
  color: #f4bf75;
}
.highlight .nc {
  color: #f4bf75;
}
.highlight .no {
  color: #f4bf75;
}
.highlight .na {
  color: #66d9ef;
}
.highlight .m, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mb, .highlight .mx {
  color: #a6e22e;
}
.highlight .ss {
  color: #a6e22e;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/logo.png" style="width: 80%; margin: 0 auto">
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="introduction">Introduction</h1>

<p>The Thread Genius API offers fashion image recognition as a service. Use it to tag photos, perform visual search on your product catalog, or find products within your photos.</p>

<h1 id="authentication">Authentication</h1>

<blockquote>
<p>To retrieve an access token:</p>
</blockquote>
<pre class="highlight shell"><code>curl <span class="s2">"http://api.threadgenius.co/v0/token"</span> <span class="se">\</span>
  -d <span class="s2">"api_key={api_key}"</span> <span class="se">\</span>
  -d <span class="s2">"api_secret={api_secret}"</span>
</code></pre>
<blockquote>
<p>The JSON response will include your <code>access_token</code>. Access tokens expire regularly and must be renewed on an ongoing basis. You can renew by just retrieving a new <code>access_token</code> as described above.</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OK"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"access_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PKmWwSGYF4szvyY7"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"token_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bearer"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"expires_in_seconds"</span><span class="p">:</span><span class="w"> </span><span class="mi">86399</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Authentication to the API is handled using OAuth2 client credentials. Each user has a unique <code>api_key</code> and <code>api_secret</code> which you will use to exchange for an <code>access_token</code>. You then use this <code>access_token</code> to make authorized API calls.</p>

<p>This is achieved using the Authorization header:</p>

<p><code class="prettyprint">Authorization: Bearer PKmWwSGYF4szvyY7</code></p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET http://api.threadgenius.co/v0/token/</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">api_key</code></td>
<td>(Required) Your API Key</td>
</tr>
<tr>
<td><code class="prettyprint">api_secret</code></td>
<td>(Required) Your API Secret</td>
</tr>
</tbody></table>

<h1 id="catalogs">Catalogs</h1>

<h2 id="overview">Overview</h2>

<p>A catalog is a collection of image URLs, each associated with custom metadata you provide. When you perform visual search on a collection, we return images in a selected collection that are most similar to the query image.</p>

<h3 id="catalog-fields">Catalog Fields</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">catalog_id</code></td>
<td>A 16-character ID we generate when you create a new catalog</td>
</tr>
<tr>
<td><code class="prettyprint">name</code></td>
<td>A name you provide for the catalog on creation</td>
</tr>
<tr>
<td><code class="prettyprint">num_images_total</code></td>
<td>The total number of images in your catalog</td>
</tr>
<tr>
<td><code class="prettyprint">num_images_indexed</code></td>
<td>The number of images that have been indexed so far</td>
</tr>
<tr>
<td><code class="prettyprint">error_log</code></td>
<td>If uploading or indexing results in an error, the output of the error is written here</td>
</tr>
<tr>
<td><code class="prettyprint">status</code></td>
<td>One of <code class="prettyprint">new</code>, <code class="prettyprint">uploading</code>, <code class="prettyprint">upload done</code>, <code class="prettyprint">upload error</code>, <code class="prettyprint">indexing</code>, <code class="prettyprint">ready for query</code>, or <code class="prettyprint">index error</code></td>
</tr>
<tr>
<td><code class="prettyprint">date_created</code></td>
<td>The date and time your catalog was created</td>
</tr>
</tbody></table>

<h2 id="create-new-catalog">Create new catalog</h2>
<pre class="highlight shell"><code>curl <span class="s2">"http://api.threadgenius.co/v0/catalog"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -H <span class="s2">"Authorization: PKmWwSGYF4szvyY7"</span> <span class="se">\</span>
  -d <span class="s2">"name=My Awesome Catalog"</span>
</code></pre>
<blockquote>
<p>Example Response:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OK"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"catalog"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"catalog_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cdae7e788f1e4982"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-12-12 09:24:54.301953+00:00"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My Awesome Catalog"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"new"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint creates a new empty catalog and returns the <code>catalog_id</code>.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST http://api.threadgenius.co/v0/catalog/</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">name</code></td>
<td>(Required) A name for your catalog</td>
</tr>
</tbody></table>

<h2 id="upload-catalog-file">Upload catalog file</h2>
<pre class="highlight shell"><code>curl <span class="s2">"http://api.threadgenius.co/v0/catalog/cdae7e788f1e4982/upload"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -H <span class="s2">"Authorization: PKmWwSGYF4szvyY7"</span> <span class="se">\</span>
  -F <span class="s2">"catalog_file=@{/path/to/catalog_file}"</span>
</code></pre>
<blockquote>
<p>Example Response:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OK"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"catalog"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"catalog_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cdae7e788f1e4982"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-12-12 09:24:54.301953+00:00"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My Awesome Catalog"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"uploading"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Use this endpoint to populate your newly created endpoint with records. </p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST http://api.threadgenius.co/v0/catalog/&lt;catalog_id&gt;/upload</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">catalog_id</code></td>
<td>The ID of the catalog</td>
</tr>
</tbody></table>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">catalog_file</code></td>
<td>A file listing image urls and associated IDs</td>
</tr>
</tbody></table>

<h3 id="catalog-file-format">Catalog File Format</h3>

<p>The <code>catalog_file</code> must be tab-delimited with the following entries.</p>

<table><thead>
<tr>
<th>Image ID (Required)</th>
<th>Image URL (Required)</th>
<th>JSON-readable metadata (Optional)</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">1</code></td>
<td><code class="prettyprint">http://cdn.cool.images/url1.jpeg</code></td>
<td><code class="prettyprint">{&quot;price&quot;: 19.99, &quot;SKU&quot;: 120984, &quot;categories&quot;: [&quot;sweatshirt&quot;, &quot;red&quot;]}</code></td>
</tr>
<tr>
<td><code class="prettyprint">2</code></td>
<td><code class="prettyprint">http://cdn.cool.images/url2.jpeg</code></td>
<td><code class="prettyprint">{&quot;price&quot;: 49.99, &quot;SKU&quot;: 231235}</code></td>
</tr>
<tr>
<td>&hellip;</td>
<td>&hellip;</td>
<td>&hellip;</td>
</tr>
</tbody></table>

<h2 id="index-a-catalog">Index a catalog</h2>
<pre class="highlight shell"><code>curl <span class="s2">"http://api.threadgenius.co/v0/catalog/cdae7e788f1e4982/index"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -H <span class="s2">"Authorization: PKmWwSGYF4szvyY7"</span>

</code></pre>
<blockquote>
<p>Example Response:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OK"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"catalog"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"catalog_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cdae7e788f1e4982"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-12-12 09:24:54.301953+00:00"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My Awesome Catalog"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"num_images_total"</span><span class="p">:</span><span class="w"> </span><span class="mi">50123</span><span class="p">,</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"index in progress"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>In order to start searching against a catalog, we need to first build an index from the images. Use this endpoint to initiate an indexing job. During the indexing task, <code>num_images_indexed</code> updates dynamically.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST http://api.threadgenius.co/v0/catalog/&lt;catalog_id&gt;/index</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">catalog_id</code></td>
<td>The ID of the catalog</td>
</tr>
</tbody></table>

<h2 id="get-a-catalog">Get a catalog</h2>
<pre class="highlight shell"><code>curl <span class="s2">"http://api.threadgenius.co/v0/catalog/cdae7e788f1e4982"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: PKmWwSGYF4szvyY7"</span>
</code></pre>
<blockquote>
<p>Example Response:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OK"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"catalog"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"catalog_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cdae7e788f1e4982"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-12-12 09:24:54.301953+00:00"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My Awesome Catalog"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"num_images_indexed"</span><span class="p">:</span><span class="w"> </span><span class="mi">50123</span><span class="p">,</span><span class="w">
    </span><span class="nt">"num_total_images"</span><span class="p">:</span><span class="w"> </span><span class="mi">50123</span><span class="p">,</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ready for query"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Use this endpoint to get information about a catalog, including the status of uploading and indexing.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET http://api.threadgenius.co/v0/catalog/&lt;catalog_id&gt;</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">catalog_id</code></td>
<td>The ID of the catalog</td>
</tr>
</tbody></table>

<h2 id="get-all-catalogs">Get all catalogs</h2>
<pre class="highlight shell"><code>curl <span class="s2">"http://api.threadgenius.co/v0/catalog/"</span> <span class="se">\</span>
  -H <span class="s2">"Authorization: PKmWwSGYF4szvyY7"</span>
</code></pre>
<blockquote>
<p>Example Response:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OK"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"catalog"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"catalog_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cdae7e788f1e4982"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-12-12 09:24:54.301953+00:00"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My Awesome Catalog"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"num_images_indexed"</span><span class="p">:</span><span class="w"> </span><span class="mi">50123</span><span class="p">,</span><span class="w">
      </span><span class="nt">"num_total_images"</span><span class="p">:</span><span class="w"> </span><span class="mi">50123</span><span class="p">,</span><span class="w">
      </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ready for query"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"catalog_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"004882361564b5ad"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"date_created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-12-11 07:03:43.222671+00:00"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Catalog"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"num_total_images"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
      </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"upload done"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Use this endpoint to list all your catalogs.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET http://api.threadgenius.co/v0/catalog/</code></p>

<h2 id="delete-a-catalog">Delete a catalog</h2>
<pre class="highlight shell"><code>curl <span class="s2">"http://api.threadgenius.co/v0/catalog/cdae7e788f1e4982"</span> <span class="se">\</span>
  -X DELETE <span class="se">\</span>
  -H <span class="s2">"Authorization: PKmWwSGYF4szvyY7"</span>
</code></pre>
<blockquote>
<p>Example Response:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Catalog deleted."</span><span class="p">,</span><span class="w">
    </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"catalog"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"catalog_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cdae7e788f1e4982"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Use this endpoint to delete a specific catalog.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">DELETE http://api.threadgenius.co/v0/catalog/&lt;catalog_id&gt;</code></p>

<h3 id="url-parameters">URL Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">catalog_id</code></td>
<td>The ID of the catalog</td>
</tr>
</tbody></table>

<h1 id="tagging">Tagging</h1>

<h2 id="tag-an-image">Tag an Image</h2>
<pre class="highlight shell"><code>curl <span class="s2">"http://api.threadgenius.co/v0/tag"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -H <span class="s2">"Authorization: PKmWwSGYF4szvyY7"</span> <span class="se">\</span>
  -d <span class="s2">"url=https://cdnc.lystit.com/photos/notre-shop/7807782918-Washed%20Black-b87a8c25-.jpeg"</span>
</code></pre>
<blockquote>
<p>Example Response:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OK"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
    </span><span class="p">},</span><span class="w">
  </span><span class="nt">"labels"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"confidence"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.7053355574607849</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"shape"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"chelsea boots"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"confidence"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.5393210053443909</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"color"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"color charcoal"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>To query using an image file,</p>
</blockquote>
<pre class="highlight shell"><code>curl <span class="s2">"http://api.threadgenius.co/v0/tag"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -H <span class="s2">"Authorization: PKmWwSGYF4szvyY7"</span> <span class="se">\</span>
  -F <span class="s2">"image=@{/path/to/image.jpeg}"</span>
</code></pre>
<p>This endpoint automatically tags your image with attributes.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST http://api.threadgenius.co/v0/tag/</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<p>Provide either a image URL or the image file itself.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">url</code></td>
<td>(Either) The URL of the image</td>
</tr>
<tr>
<td><code class="prettyprint">image</code></td>
<td>(Either) The file of the image</td>
</tr>
</tbody></table>

<h1 id="visual-search">Visual Search</h1>

<h2 id="find-similar-products">Find similar products</h2>
<pre class="highlight shell"><code>curl <span class="s2">"http://api.threadgenius.co/v0/search"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -H <span class="s2">"Authorization: PKmWwSGYF4szvyY7"</span> <span class="se">\</span>
  -d <span class="s2">"url=https://cdnc.lystit.com/photos/notre-shop/7807782918-Washed%20Black-b87a8c25-.jpeg"</span> <span class="se">\</span>
  -d <span class="s2">"catalog_id=cdae7e788f1e4982"</span>
</code></pre>
<blockquote>
<p>Example Response:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OK"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"similars"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://cdn-images.farfetch.com/11/64/93/56/11649356_7801384_800.jpg"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"distance"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.47817564010620117</span><span class="p">,</span><span class="w">
      </span><span class="nt">"iid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1280619564"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"categories"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"boots"</span><span class="p">],</span><span class="w">
        </span><span class="nt">"price"</span><span class="p">:</span><span class="w"> </span><span class="mf">289.99</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://cdn-images.farfetch.com/11/14/62/38/11146238_5438398_800.jpg"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"distance"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.5194926857948303</span><span class="p">,</span><span class="w">
      </span><span class="nt">"iid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"491260395"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"categories"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"boots"</span><span class="p">],</span><span class="w">
        </span><span class="nt">"price"</span><span class="p">:</span><span class="w"> </span><span class="mf">159.99</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">


</span></code></pre>
<blockquote>
<p>To query using an image file,</p>
</blockquote>
<pre class="highlight shell"><code>curl <span class="s2">"http://api.threadgenius.co/v0/search"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -H <span class="s2">"Authorization: PKmWwSGYF4szvyY7"</span> <span class="se">\</span>
  -F <span class="s2">"image=@{/path/to/image.jpeg}"</span> <span class="se">\</span>
  -F <span class="s2">"catalog_id=cdae7e788f1e4982"</span>
</code></pre>
<p>Query for similar products with an image of a single item.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST http://api.threadgenius.co/v0/search/</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<p>Provide either an image URL or the image file itself.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">url</code></td>
<td>(Either) The URL of the image</td>
</tr>
<tr>
<td><code class="prettyprint">image</code></td>
<td>(Either) The file of the image</td>
</tr>
<tr>
<td><code class="prettyprint">catalog_id</code></td>
<td>(Required) The ID of the catalog which you are querying</td>
</tr>
<tr>
<td><code class="prettyprint">n_results</code></td>
<td>(Optional) The number of results you want returned (default is 50)</td>
</tr>
</tbody></table>

<h1 id="item-detection">Item Detection</h1>

<h2 id="find-clothing-objects-in-an-image">Find clothing objects in an image</h2>
<pre class="highlight shell"><code>curl <span class="s2">"http://api.threadgenius.co/v0/detect"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -H <span class="s1">'Authorization: Bearer PKmWwSGYF4szvyY7'</span> <span class="se">\</span>
  -d <span class="s1">'url=https://s-media-cache-ak0.pinimg.com/564x/b5/6b/eb/b56beb741cba8e9667880178c3596139.jpg'</span>
</code></pre>
<blockquote>
<p>Example Response:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OK"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"boxes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"category"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pants-long"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"score"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.6992457509040833</span><span class="p">,</span><span class="w">
      </span><span class="nt">"bbox"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="mi">48</span><span class="p">,</span><span class="w">
        </span><span class="mi">203</span><span class="p">,</span><span class="w">
        </span><span class="mi">270</span><span class="p">,</span><span class="w">
        </span><span class="mi">524</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"category"</span><span class="p">:</span><span class="w"> </span><span class="s2">"footwear-regular"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"score"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.9771430492401123</span><span class="p">,</span><span class="w">
      </span><span class="nt">"bbox"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="mi">143</span><span class="p">,</span><span class="w">
        </span><span class="mi">455</span><span class="p">,</span><span class="w">
        </span><span class="mi">216</span><span class="p">,</span><span class="w">
        </span><span class="mi">536</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"category"</span><span class="p">:</span><span class="w"> </span><span class="s2">"footwear-regular"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"score"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.7428352236747742</span><span class="p">,</span><span class="w">
      </span><span class="nt">"bbox"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="mi">88</span><span class="p">,</span><span class="w">
        </span><span class="mi">423</span><span class="p">,</span><span class="w">
        </span><span class="mi">159</span><span class="p">,</span><span class="w">
        </span><span class="mi">502</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"category"</span><span class="p">:</span><span class="w"> </span><span class="s2">"outerwear-light"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"score"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.9962784647941589</span><span class="p">,</span><span class="w">
      </span><span class="nt">"bbox"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="mi">66</span><span class="p">,</span><span class="w">
        </span><span class="mi">55</span><span class="p">,</span><span class="w">
        </span><span class="mi">243</span><span class="p">,</span><span class="w">
        </span><span class="mi">293</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>To query using an image file,</p>
</blockquote>
<pre class="highlight shell"><code>curl <span class="s2">"http://api.threadgenius.co/v0/detect"</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -H <span class="s1">'Authorization: Bearer PKmWwSGYF4szvyY7'</span> <span class="se">\</span>
  -F <span class="s2">"image=@{/path/to/image.jpeg}"</span>
</code></pre>
<p>This endpoint automatically finds bounding boxes around clothing objects within your image.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST http://api.threadgenius.co/v0/detect/</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<p>Provide either an image URL or the image file itself.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">url</code></td>
<td>(Either) The URL of the image</td>
</tr>
<tr>
<td><code class="prettyprint">image</code></td>
<td>(Either) The file of the image</td>
</tr>
</tbody></table>

<h1 id="usage">Usage</h1>

<h2 id="retrieve-your-api-usage-summary">Retrieve your API usage summary</h2>
<pre class="highlight shell"><code>curl <span class="s2">"http://api.threadgenius.co/v0/usage"</span> <span class="se">\</span>
  -X GET <span class="se">\</span>
  -H <span class="s1">'Authorization: Bearer PKmWwSGYF4szvyY7'</span> <span class="se">\</span>
</code></pre>
<blockquote>
<p>Example Response:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OK"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"usage"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"2017-1"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"catalog_index"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"num_calls"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="nt">"num_images"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"search"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"num_calls"</span><span class="p">:</span><span class="w"> </span><span class="mi">11</span><span class="p">,</span><span class="w">
        </span><span class="nt">"num_images"</span><span class="p">:</span><span class="w"> </span><span class="mi">11</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"detect"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"num_calls"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nt">"num_images"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"tag"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"num_calls"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
        </span><span class="nt">"num_images"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"catalog_upload"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"num_calls"</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w">
        </span><span class="nt">"num_images"</span><span class="p">:</span><span class="w"> </span><span class="mi">4000</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"2016-12"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"catalog_index"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"num_calls"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
        </span><span class="nt">"num_images"</span><span class="p">:</span><span class="w"> </span><span class="mi">518</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"search"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"num_calls"</span><span class="p">:</span><span class="w"> </span><span class="mi">60</span><span class="p">,</span><span class="w">
        </span><span class="nt">"num_images"</span><span class="p">:</span><span class="w"> </span><span class="mi">60</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"tag"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"num_calls"</span><span class="p">:</span><span class="w"> </span><span class="mi">11</span><span class="p">,</span><span class="w">
        </span><span class="nt">"num_images"</span><span class="p">:</span><span class="w"> </span><span class="mi">11</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"detect"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"num_calls"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
        </span><span class="nt">"num_images"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"catalog_upload"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"num_calls"</span><span class="p">:</span><span class="w"> </span><span class="mi">18</span><span class="p">,</span><span class="w">
        </span><span class="nt">"num_images"</span><span class="p">:</span><span class="w"> </span><span class="mi">3023</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This endpoint returns your API usage summary</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST http://api.threadgenius.co/v0/usage/</code></p>

          <h1 id="errors">Errors</h1>

<p>The Thread Genius API uses the following error codes:</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">400</code></td>
<td>Bad Request</td>
</tr>
<tr>
<td><code class="prettyprint">401</code></td>
<td>Unauthorized</td>
</tr>
<tr>
<td><code class="prettyprint">403</code></td>
<td>Forbidden</td>
</tr>
<tr>
<td><code class="prettyprint">404</code></td>
<td>Not Found</td>
</tr>
<tr>
<td><code class="prettyprint">405</code></td>
<td>Method Not Allowed</td>
</tr>
<tr>
<td><code class="prettyprint">406</code></td>
<td>Not Acceptable</td>
</tr>
<tr>
<td><code class="prettyprint">429</code></td>
<td>Too Many Requests</td>
</tr>
<tr>
<td><code class="prettyprint">500</code></td>
<td>Internal Server Error</td>
</tr>
<tr>
<td><code class="prettyprint">503</code></td>
<td>Service Unavailable</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
      </div>
    </div>
  </body>
</html>
